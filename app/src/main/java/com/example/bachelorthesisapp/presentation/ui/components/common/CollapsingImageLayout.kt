package com.example.bachelorthesisapp.presentation.ui.components.common

import androidx.compose.foundation.background
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.Spacer
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.layout.height
import androidx.compose.foundation.layout.padding
import androidx.compose.foundation.layout.statusBarsPadding
import androidx.compose.foundation.rememberScrollState
import androidx.compose.material3.Scaffold
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Brush
import androidx.compose.ui.layout.Layout
import androidx.compose.ui.platform.LocalDensity
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.Constraints
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.lerp
import coil.compose.AsyncImage
import kotlin.math.max
import kotlin.math.min

private val BottomBarHeight = 56.dp
private val TitleHeight = 128.dp
private val GradientScroll = 180.dp
private val ImageOverlap = 115.dp
private val MinTitleOffset = 56.dp
private val MinImageOffset = 12.dp
private val MaxTitleOffset = ImageOverlap + MinTitleOffset + GradientScroll
private val ExpandedImageSize = 300.dp
private val CollapsedImageSize = 150.dp
private val HzPadding = Modifier.padding(horizontal = 24.dp)


@Composable
private fun CollapsingImageLayout(
    collapseFractionProvider: () -> Float,
    modifier: Modifier = Modifier,
    content: @Composable () -> Unit
) {
    Layout(
        modifier = modifier,
        content = content
    ) { measurables, constraints ->
        check(measurables.size == 1)

        val collapseFraction = collapseFractionProvider()

        val imageMaxSize = min(ExpandedImageSize.roundToPx(), constraints.maxWidth)
        val imageMinSize = max(CollapsedImageSize.roundToPx(), constraints.minWidth)
        val imageWidth = lerp(imageMaxSize.toDp(), imageMinSize.toDp(), collapseFraction)
        val imagePlaceable = measurables[0].measure(
            Constraints.fixed(
                imageWidth.roundToPx(),
                imageWidth.roundToPx()
            )
        )

        val imageY = lerp(MinTitleOffset, MinImageOffset, collapseFraction).roundToPx()
        val imageX = lerp(
            (constraints.maxWidth.toDp() - imageWidth) / 2, // centered when expanded
            constraints.maxWidth.toDp() - imageWidth, // right aligned when collapsed
            collapseFraction
        )
        layout(
            width = constraints.maxWidth,
            height = imageY + imageWidth.roundToPx()
        ) {
            imagePlaceable.placeRelative(imageX.roundToPx(), imageY)
        }
    }
}

@Composable
private fun Header() {
    Spacer(
        modifier = Modifier
            .height(280.dp)
            .fillMaxWidth()
    )
}

@Composable
private fun Image(
    imageUrl: String,
    scrollProvider: () -> Int
) {
    val collapseRange = with(LocalDensity.current) { (MaxTitleOffset - MinTitleOffset).toPx() }
    val collapseFractionProvider = {
        (scrollProvider() / collapseRange).coerceIn(0f, 1f)
    }

    CollapsingImageLayout(
        collapseFractionProvider = collapseFractionProvider,
        modifier = HzPadding.then(Modifier.statusBarsPadding())
    ) {
        AsyncImage(model = imageUrl, contentDescription = "")
    }
}

@Preview
@Composable
fun TestImage() {
    val scroll = rememberScrollState(0)
    Column(modifier = Modifier.fillMaxSize()) {
        Image(imageUrl = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/" +
                "2wCEAAoGBxQUExYTExQWFhYZGRkWGRoWGhkWGBYaGh0ZGRYaGhkaHysiGhwoHRkYIzQjKCwuMTExGSE3PDkwOysw" +
                "MS4BCwsLDw4PHBERHTAoIigwMDIwMDAwMDAyMDAuMDAuMC4wMDYwMDAwMDAyLjIwMDAwMjAwMDIwMDAwMjAwMjAwMP" +
                "/AABEIALcBEwMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAFAQIDBAYAB//EAEEQAAICAQMCBQIDBQcCB" +
                "AcBAAECAxEABBIhBTEGEyJBUWFxBzKBFCNCkcFSYnKCobHwM9EkkqKyFzRDc4Oj4RX/xAAZAQADAQEBAAAAAAAA" +
                "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") {
            scroll.value
        }
    }

}